import{m as f,r as h,j as e}from"./app-CnRy6MZR.js";import{L as n,I as c}from"./label-C2ph1Clw.js";import{B as p}from"./button-B1szMJur.js";import{D as j,a as b,b as D,c as C,d as v,e as F}from"./dialog-DUEIltCJ.js";import{I as l}from"./input-B8CLliSp.js";import{t as N}from"./index-a_KnL1Rq.js";import{C as E}from"./circle-check-B2QCVqJW.js";import"./index-BGbycQ4K.js";import"./index-BUl8Po4a.js";import"./x-Cl06Eapm.js";import"./index-CHtUMTg2.js";function T({isOpen:o,onClose:a,onSuccess:u}){const{data:m,setData:s,post:g,errors:i,processing:d,reset:t}=f({nombre:"",descripcion:"",imagen:null}),x=r=>{r.preventDefault(),g(route("fundos.store"),{forceFormData:!0,onSuccess:()=>{t(),u(),a(),N("Fundo creado",{closeButton:!0,description:"El fundo se ha registrado correctamente.",icon:e.jsx(E,{})})}})};return h.useEffect(()=>{o||t()},[o,t]),e.jsx(j,{open:o,onOpenChange:a,children:e.jsxs(b,{className:"sm:max-w-[425px]",children:[e.jsxs(D,{children:[e.jsx(C,{children:"Crear Nuevo Fundo"}),e.jsx(v,{children:"Completa los campos para registrar un nuevo fundo."})]}),e.jsxs("form",{onSubmit:x,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"nombre",children:"Nombre"}),e.jsx(l,{id:"nombre",value:m.nombre,onChange:r=>s("nombre",r.target.value),required:!0,autoComplete:"off",placeholder:"Nombre del fundo"}),e.jsx(c,{message:i.nombre})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"descripcion",children:"Descripción"}),e.jsx(l,{id:"descripcion",value:m.descripcion,onChange:r=>s("descripcion",r.target.value),autoComplete:"off",placeholder:"Descripción del fundo"}),e.jsx(c,{message:i.descripcion})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"imagen",children:"Imagen"}),e.jsx(l,{id:"imagen",type:"file",onChange:r=>s("imagen",r.target.files?r.target.files[0]:null),accept:"image/*"}),e.jsx(c,{message:i.imagen})]}),e.jsxs(F,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),e.jsx(p,{type:"submit",disabled:d,children:d?"Guardando...":"Guardar Fundo"})]})]})]})})}export{T as default};
