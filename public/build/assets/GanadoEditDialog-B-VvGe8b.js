import{U as v,m as q,j as e}from"./app-McA_vTcW.js";import{c as I,B as m}from"./button-g9AqxOqc.js";import{L as n,I as l}from"./label-BIjeOWKT.js";import{S as h,a as g,b as x,c as u,d as i,R as V,e as y,f as F,g as P,h as E}from"./select-BTs55ca9.js";import{D as L,f as T,a as G,b as M,c as O,d as A}from"./dialog-h7SCNmDW.js";import{I as S}from"./input-C8uTgzQt.js";import{t as R}from"./index-CK6i7lBT.js";import{C as H}from"./chevron-down-BmumWQtY.js";import"./index-DPKL3XZS.js";import"./index-DEHRsPit.js";import"./index-0sPityEH.js";import"./index-B5Rnd2F2.js";import"./index-C4bwZ98Y.js";import"./index-l7DRdzBq.js";import"./x-BPbzyxop.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],B=I("SquarePen",k);function ne({fundo:p,razas:b,ganado:s}){const[D,c]=v.useState(!1),[N,j]=v.useState(!1),{data:r,setData:o,errors:t,processing:f,transform:_,reset:C,put:z}=q({codigo:s.codigo||"",nombre:s.nombre||"",raza_id:s.raza_id?String(s.raza_id):"",fecha_nacimiento:s.fecha_nacimiento?new Date(`${s.fecha_nacimiento}T00:00:00`):new Date,genero:s.genero||"macho",estado:s.estado||"activo",fundo_id:p.id}),w=a=>{a.preventDefault(),a.stopPropagation(),_(d=>({...d,fecha_nacimiento:d.fecha_nacimiento.toISOString().split("T")[0]})),z(route("ganados.update",{ganado:s.id,fundo:p.id}),{onSuccess:()=>{R.success("Ganado editado exitosamente"),C(),j(!1),c(!1)},onError:d=>console.error(d)})};return e.jsxs(L,{open:N,onOpenChange:j,children:[e.jsx(T,{asChild:!0,children:e.jsx(m,{variant:"outline",children:e.jsx(B,{})})}),e.jsxs(G,{children:[e.jsxs(M,{children:[e.jsxs(O,{children:["Editar Ganado",e.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",s.codigo]})]}),e.jsx(A,{children:"Modifique los detalles del ganado seleccionado. Asegúrese de que la información sea precisa antes de guardar los cambios."})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(n,{htmlFor:"codigo",children:"Codigo"}),e.jsx(S,{required:!0,id:"codigo",type:"text",placeholder:"Ingrese codigo...",value:r.codigo,onChange:a=>o("codigo",a.target.value)}),e.jsx(l,{message:t.codigo})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(n,{htmlFor:"nombre",children:"Nombre"}),e.jsx(S,{required:!0,id:"nombre",type:"text",placeholder:"Ingrese nombre...",value:r.nombre,onChange:a=>o("nombre",a.target.value)}),e.jsx(l,{message:t.nombre})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(n,{htmlFor:"raza",children:"Raza"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(h,{defaultValue:r.raza_id?String(r.raza_id):"",required:!0,onValueChange:a=>o("raza_id",a),children:[e.jsx(g,{children:e.jsx(x,{placeholder:"Seleccionar"})}),e.jsx(u,{id:"raza",children:b.map(a=>e.jsx(i,{value:String(a.id),children:a.nombre},a.id))})]}),e.jsx(V,{})]}),e.jsx(l,{message:t.raza_id,className:"text-xs"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(n,{htmlFor:"date",className:"px-1",children:"Fecha de Nacimiento"}),e.jsxs(y,{open:D,onOpenChange:c,modal:!0,children:[e.jsx(F,{asChild:!0,children:e.jsxs(m,{variant:"outline",id:"date",className:"justify-between font-normal",children:[r.fecha_nacimiento?r.fecha_nacimiento.toLocaleDateString():"Seleccionar fecha",e.jsx(H,{})]})}),e.jsx(P,{className:"w-auto overflow-hidden p-0",align:"start",children:e.jsx(E,{mode:"single",selected:r.fecha_nacimiento,onSelect:a=>{o("fecha_nacimiento",a?new Date(a):new Date),c(!1)},disabled:a=>a>new Date})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(n,{htmlFor:"genero",children:"Genero"}),e.jsxs(h,{defaultValue:r.genero||"macho",required:!0,onValueChange:a=>o("genero",a.toLocaleLowerCase()),children:[e.jsx(g,{children:e.jsx(x,{placeholder:"Seleccionar"})}),e.jsxs(u,{id:"genero",children:[e.jsx(i,{value:"macho",children:"Macho"}),e.jsx(i,{value:"hembra",children:"Hembra"})]})]}),e.jsx(l,{message:t.raza_id,className:"text-xs"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(n,{htmlFor:"estado",children:"Estado"}),e.jsxs(h,{defaultValue:r.estado||"activo",required:!0,onValueChange:a=>o("estado",a),children:[e.jsx(g,{children:e.jsx(x,{placeholder:"Seleccionar"})}),e.jsxs(u,{id:"estado",children:[e.jsx(i,{value:"activo",children:"Activo"}),e.jsx(i,{value:"produccion",children:"Producción"}),e.jsx(i,{value:"vendido",children:"Vendido"}),e.jsx(i,{value:"muerto",children:"Muerto"})]})]}),e.jsx(l,{message:t.estado,className:"text-xs"})]})]}),e.jsx(m,{type:"submit",disabled:f,children:f?"Actualizando...":"Actualizar Ganado"})]})]})]})}export{ne as default};
