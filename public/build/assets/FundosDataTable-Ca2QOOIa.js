import{r as i,j as e,$ as _}from"./app-McA_vTcW.js";import{u as z,T as B,a as D,b as m,c as H,f as p,d as $,e as j,g as E,h as L,i as U,j as K}from"./table-D_u363MG.js";import{B as q}from"./badge-CV78xixo.js";import{c as h,B as t}from"./button-g9AqxOqc.js";import{D as w,a as f,b as C,c as O,d,e as b,f as G}from"./dropdown-menu-B7bgFBRx.js";import{I as J}from"./input-C8uTgzQt.js";import{A as Q,a as W,b as X}from"./avatar-yI0QFF5g.js";import{T as N}from"./trash-2-nbf_kv0z.js";import{R as Y}from"./rotate-ccw-BJbRwvuj.js";import{C as Z}from"./chevron-down-BmumWQtY.js";import"./index-0sPityEH.js";import"./index-DPKL3XZS.js";import"./index-B5Rnd2F2.js";import"./index-Dn82302e.js";import"./index-C4bwZ98Y.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],v=h("ArrowUpDown",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ae=h("Ellipsis",se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],te=h("Pencil",le);function Ce({data:y,emptyMessage:k,onEdit:r,onDelete:n,onRestore:o,onForceDelete:c}){var g,u;const[M,S]=i.useState([]),[R,T]=i.useState([]),[I,A]=i.useState({}),[P,V]=i.useState({}),x=i.useMemo(()=>[{accessorKey:"nombre",header:({column:s})=>e.jsxs(t,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Nombre ",e.jsx(v,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{const a=s.original,F=a.nombre?a.nombre.substring(0,2).toUpperCase():"??";return e.jsxs(_,{href:route("fundos.show",{fundo:a.id}),className:"flex items-center gap-3",children:[e.jsx(Q,{className:"h-8 w-8",children:a.imagen?e.jsx(W,{src:"storage/"+a.imagen,alt:a.nombre}):e.jsx(X,{children:F})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"capitalize",children:a.nombre}),a.deleted_at&&e.jsx(q,{variant:"destructive",className:"mt-1 w-fit",children:"Eliminado"})]})]})}},{accessorKey:"descripcion",header:({column:s})=>e.jsxs(t,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["DescripciÃ³n ",e.jsx(v,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>e.jsx("div",{className:"hidden text-gray-600 md:table-cell dark:text-gray-400",children:s.getValue("descripcion")})},{id:"actions",enableHiding:!1,cell:({row:s})=>{const a=s.original;return e.jsxs(w,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(t,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ae,{className:"h-4 w-4"})]})}),e.jsxs(C,{align:"end",children:[e.jsx(O,{children:"Acciones"}),a.deleted_at?e.jsxs(e.Fragment,{children:[e.jsxs(d,{onClick:()=>o==null?void 0:o(a),children:[e.jsx(Y,{className:"mr-2 h-4 w-4"})," Restaurar"]}),e.jsx(b,{}),e.jsxs(d,{onClick:()=>c==null?void 0:c(a),className:"text-red-600 focus:text-red-600",children:[e.jsx(N,{className:"mr-2 h-4 w-4"})," Eliminar permanentemente"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(d,{onClick:()=>r==null?void 0:r(a),children:[e.jsx(te,{className:"mr-2 h-4 w-4"})," Editar"]}),e.jsx(b,{}),e.jsxs(d,{onClick:()=>n==null?void 0:n(a),className:"text-red-600 focus:text-red-600",children:[e.jsx(N,{className:"mr-2 h-4 w-4"})," Eliminar"]})]})]})]})}}],[r,n,o,c]),l=z({data:y,columns:x,onSortingChange:S,onColumnFiltersChange:T,getCoreRowModel:K(),getPaginationRowModel:U(),getSortedRowModel:L(),getFilteredRowModel:E(),onColumnVisibilityChange:A,onRowSelectionChange:V,state:{sorting:M,columnFilters:R,columnVisibility:I,rowSelection:P}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 py-4",children:[e.jsx(J,{placeholder:"Filtrar por nombre...",value:((g=l.getColumn("nombre"))==null?void 0:g.getFilterValue())??"",onChange:s=>{var a;return(a=l.getColumn("nombre"))==null?void 0:a.setFilterValue(s.target.value)},className:"max-w-sm"}),e.jsxs(w,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(t,{variant:"outline",className:"ml-auto",children:["Columnas ",e.jsx(Z,{className:"ml-2 h-4 w-4"})]})}),e.jsx(C,{align:"end",children:l.getAllColumns().filter(s=>s.getCanHide()).map(s=>e.jsx(G,{className:"capitalize",checked:s.getIsVisible(),onCheckedChange:a=>s.toggleVisibility(!!a),children:s.id==="select"?"Seleccionar":s.id==="actions"?"Acciones":s.id},s.id))})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(B,{children:[e.jsx(D,{children:l.getHeaderGroups().map(s=>e.jsx(m,{children:s.headers.map(a=>e.jsx(H,{children:a.isPlaceholder?null:p(a.column.columnDef.header,a.getContext())},a.id))},s.id))}),e.jsx($,{children:(u=l.getRowModel().rows)!=null&&u.length?l.getRowModel().rows.map(s=>e.jsx(m,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(a=>e.jsx(j,{children:p(a.column.columnDef.cell,a.getContext())},a.id))},s.id)):e.jsx(m,{children:e.jsx(j,{colSpan:x.length,className:"h-24 text-center text-gray-500 italic",children:k})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[l.getFilteredSelectedRowModel().rows.length," de ",l.getFilteredRowModel().rows.length," fila(s) seleccionada(s)."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Anterior"}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Siguiente"})]})]})]})}export{Ce as FundosDataTable};
