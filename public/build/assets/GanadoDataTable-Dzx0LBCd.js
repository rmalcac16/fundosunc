import{r as s,j as e}from"./app-McA_vTcW.js";import{u as N,T as D,a as S,b as l,c as y,f as m,d as V,e as g,g as F,h as T,i as z,j as P}from"./table-D_u363MG.js";import{B}from"./badge-CV78xixo.js";import{B as n,f as G}from"./button-g9AqxOqc.js";import{D as K,a as k,b as H,f as I}from"./dropdown-menu-B7bgFBRx.js";import{I as _}from"./input-C8uTgzQt.js";import E from"./GanadoDeleteDialog-BpFR3fqL.js";import A from"./GanadoEditDialog-B-VvGe8b.js";import L from"./GanadoForceDeleteDialog-c_413ChD.js";import q from"./GanadoRestoreDialog-ffoVYcee.js";import{C as J}from"./chevron-down-BmumWQtY.js";import"./index-0sPityEH.js";import"./index-DPKL3XZS.js";import"./index-B5Rnd2F2.js";import"./index-Dn82302e.js";import"./index-C4bwZ98Y.js";import"./dialog-h7SCNmDW.js";import"./index-CK6i7lBT.js";import"./x-BPbzyxop.js";import"./trash-2-nbf_kv0z.js";import"./circle-x-C2uB4c63.js";import"./label-BIjeOWKT.js";import"./select-BTs55ca9.js";import"./index-DEHRsPit.js";import"./index-l7DRdzBq.js";import"./rotate-ccw-BJbRwvuj.js";function fe({data:u,fundo:h,razas:x}){var d,c;const[p,j]=s.useState([]),[f,C]=s.useState([]),[b,v]=s.useState({}),[w,R]=s.useState({}),r=[{accessorKey:"codigo",header:"Código",cell:({row:a})=>e.jsx("div",{children:a.getValue("codigo")})},{accessorKey:"nombre",header:"Nombre",cell:({row:a})=>e.jsx("div",{children:a.getValue("nombre")})},{accessorKey:"raza.nombre",header:"Raza",cell:({row:a})=>{var t;return e.jsx("div",{children:(t=a.original.raza)==null?void 0:t.nombre})}},{accessorKey:"fecha_nacimiento",header:"Nacimiento",cell:({row:a})=>e.jsx("div",{children:a.original.fecha_nacimiento?G(a.original.fecha_nacimiento):"-"})},{accessorKey:"genero",header:"Género",cell:({row:a})=>e.jsx("div",{className:"capitalize",children:a.getValue("genero")})},{accessorKey:"estado",header:"Estado",cell:({row:a})=>{const t=a.getValue("estado"),M={activo:"default",inactivo:"destructive",produccion:"secondary",vendido:"outline",muerto:"destructive"}[String(t).toLowerCase()]??"default";return e.jsx(B,{variant:M,className:"capitalize",children:String(t)})}},{id:"actions",enableHiding:!1,cell:({row:a})=>{const t=a.original,i=!!t.deleted_at;return e.jsxs("div",{className:"flex items-center gap-2",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsx(A,{fundo:h,razas:x,ganado:t}),e.jsx(E,{ganado:t})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(q,{ganado:t}),e.jsx(L,{ganado:t})]})]})}}],o=N({data:u,columns:r,onSortingChange:j,onColumnFiltersChange:C,getCoreRowModel:P(),getPaginationRowModel:z(),getSortedRowModel:T(),getFilteredRowModel:F(),onColumnVisibilityChange:v,onRowSelectionChange:R,state:{sorting:p,columnFilters:f,columnVisibility:b,rowSelection:w}});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center py-4",children:[e.jsx(_,{placeholder:"Buscar por nombre...",value:((d=o.getColumn("nombre"))==null?void 0:d.getFilterValue())??"",onChange:a=>{var t;return(t=o.getColumn("nombre"))==null?void 0:t.setFilterValue(a.target.value)},className:"max-w-sm"}),e.jsxs(K,{children:[e.jsx(k,{asChild:!0,children:e.jsxs(n,{variant:"outline",className:"ml-auto",children:["Columnas ",e.jsx(J,{})]})}),e.jsx(H,{align:"end",children:o.getAllColumns().filter(a=>a.getCanHide()).map(a=>e.jsx(I,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:t=>a.toggleVisibility(!!t),children:a.id},a.id))})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(D,{children:[e.jsx(S,{children:o.getHeaderGroups().map(a=>e.jsx(l,{children:a.headers.map(t=>e.jsx(y,{children:t.isPlaceholder?null:m(t.column.columnDef.header,t.getContext())},t.id))},a.id))}),e.jsx(V,{children:(c=o.getRowModel().rows)!=null&&c.length?o.getRowModel().rows.map(a=>e.jsx(l,{"data-state":a.getIsSelected()&&"selected",className:a.original.deleted_at?"text-destructive line-through":"",children:a.getVisibleCells().map(t=>e.jsx(g,{children:m(t.column.columnDef.cell,t.getContext())},t.id))},a.id)):e.jsx(l,{children:e.jsx(g,{colSpan:r.length,className:"h-24 text-center",children:"No hay resultados."})})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[o.getFilteredSelectedRowModel().rows.length," de ",o.getFilteredRowModel().rows.length," seleccionado(s)."]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>o.previousPage(),disabled:!o.getCanPreviousPage(),children:"Anterior"}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>o.nextPage(),disabled:!o.getCanNextPage(),children:"Siguiente"})]})]})]})}export{fe as GanadoDataTable};
